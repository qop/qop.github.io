title: JavaScript异步编程
date: 2013-10-21
tags: [前端, 读书笔记]
---
为了清晰和可维护性，努力组织异步代码。

1. 深入理解JavaScript事件
JavaScript事件处理器在线程空闲之前不会运行。而是加入到事件队列中，待线程空闲之后再选取执行。

setTimeout / setInterval是不精确的计时函数，延迟比较粗糙>4ms。

node中可以使用process.nextTick
现代浏览器方法：requestAnimationFrame

异步函数：调用一个函数时，程序只在该函数返回之后才能继续。
异步递归需谨慎使用，应该使用回调。

嵌套回调诱惑我们通过添加更多代码来添加更多特性，而不是将这些特性实现为可管理、可重用的代码片段。

2. 分布式事件
PubSub(Publish/Subscribe)发布/订阅模式

EventEmitter（事件发生器）对象，nodejs

3. Promise对象和Deferred对象
jQuery 1.5+，所有ajax函数都会返回Promise对象。——封装性

❤『温馨提示50字』的Promise重构。
http://api.jquery.com/category/deferred-object/
$.Deferred
deferred.resolve(), deferred.reject()
deferred.promise()
deferred.pipe()
$.when()
deferred.done().fail().always()
deferred.then(doneCallbacks, failCallbacks)

4. Async.js的工作流控制

5. worker对象的多线程技术

6. 异步的脚本加载